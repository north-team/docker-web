(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cb6469b"],{"7cdf":function(t,e,a){var s=a("5ca1");s(s.S,"Number",{isInteger:a("9c12")})},"9c12":function(t,e,a){var s=a("d3f4"),i=Math.floor;t.exports=function(t){return!s(t)&&isFinite(t)&&i(t)===t}},f9a0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GenericListPage",{attrs:{"table-config":t.tableConfig,"header-actions":t.headerActions}}),t._v(" "),a("Dialog",{attrs:{visible:t.dialogSettings.visible,"destroy-on-close":!0,"show-cancel":!1,title:t.$t("sessions.terminalUpdateStorage"),"show-confirm":!1},on:{"update:visible":function(e){return t.$set(t.dialogSettings,"visible",e)}}},[a("GenericCreateUpdateForm",t._b({},"GenericCreateUpdateForm",t.dialogSettings.iFormSetting,!1))],1)],1)},i=[],n=(a("456d"),a("ac4d"),a("8a81"),a("ac6a"),a("d92a"),a("7cdf"),a("c5f6"),a("cd4a")),o=a("9039"),r=a("56f5"),l=function(t,e){var a,s=(null===(a=t.stat)||void 0===a?void 0:a[e])||"";return s instanceof Number&&!Number.isInteger(s)?s.toFixed(1):s},c={components:{GenericListPage:n["f"],Dialog:o["a"],GenericCreateUpdateForm:n["c"]},data:function(){return{dialogSettings:{selectedRows:[],visible:!1,iFormSetting:{url:"/api/v1/terminal/terminals/",fields:[["",["command_storage","replay_storage"]]],fieldsMeta:{command_storage:{component:r["a"],el:{ajax:{url:"/api/v1/terminal/command-storages/"},multiple:!1}},replay_storage:{component:r["a"],el:{ajax:{url:"/api/v1/terminal/replay-storages/"},multiple:!1}}},submitMethod:function(){return"post"},cleanFormValue:function(t){var e=[],a={},s=!0,i=!1,n=void 0;try{for(var o,r=this.dialogSettings.selectedRows[Symbol.iterator]();!(s=(o=r.next()).done);s=!0){var l=o.value;a=Object.assign({},t,{id:l.id}),e.push(a)}}catch(c){i=!0,n=c}finally{try{s||null==r.return||r.return()}finally{if(i)throw n}}return e}.bind(this),onSubmit:function(t){var e=this,a="/api/v1/terminal/terminals/",s=this.$t("common.updateSuccessMsg");this.$axios.patch(a,t).then((function(t){e.$message.success(s),e.dialogSettings.visible=!1})).catch((function(t){e.$emit("submitError",t);var a=t.response,s=a.data;if(400===a.status)for(var i=0,n=Object.keys(s);i<n.length;i++){var o=n[i],r=s[o];r instanceof Array&&(r=r.join(";")),e.$refs.form.setFieldError(o,r)}}))}.bind(this),hasSaveContinue:!1}},tableConfig:{url:"/api/v1/terminal/terminals/",columns:["name","remote_addr","session_online","stat.cpu_load","stat.disk_used","stat.memory_used","status","is_active","is_alive","actions"],columnsMeta:{name:{sortable:"custom"},"stat.cpu_load":{label:this.$t("sessions.systemCpuLoad"),width:"120px",formatter:function(t){return l(t,"cpu_load")}},"stat.disk_used":{label:this.$t("sessions.systemDiskUsedPercent"),width:"120px",formatter:function(t){return l(t,"disk_used")}},"stat.memory_used":{label:this.$t("sessions.systemMemoryUsedPercent"),width:"120px",formatter:function(t){return l(t,"memory_used")}},status:{label:this.$t("xpack.LoadStatus"),width:"120px",filterable:"custom",formatterArgs:{classChoices:{offline:"fa fa-chain-broken text-danger",critical:"fa fa-bolt text-warning",high:"fa fa-exclamation-triangle text-info",normal:"fa fa-check text-primary"}}},remote_addr:{sortable:"custom"},is_active:{label:this.$t("sessions.active"),width:"80px",align:"center"},is_alive:{label:this.$t("sessions.alive")},session_online:{label:this.$t("sessions.session"),width:"80px"},actions:{formatterArgs:{hasClone:!1,canUpdate:!0}}}},headerActions:{hasCreate:!1,hasBulkDelete:!1,hasUpload:!1,hasExport:!1,hasImport:!1,hasUpdate:!1,extraActions:[{name:"StorageConfiguration",title:this.$t("sessions.StorageConfiguration"),type:"primary",has:!0,can:!0,callback:this.handleStorageConfiguration}],extraMoreActions:[{name:"updateSelected",title:this.$t("common.updateSelected"),can:function(t){var e=t.selectedRows;return e.length>0},callback:function(t){var e=t.selectedRows;t.reloadTable;this.dialogSettings.selectedRows=e,this.dialogSettings.visible=!0}.bind(this)}]}}},methods:{handleStorageConfiguration:function(){this.$router.push("/terminal/storages")}}},d=c,u=a("2877"),m=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=m.exports}}]);