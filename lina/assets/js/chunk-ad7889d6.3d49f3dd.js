(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad7889d6"],{"0ae7":function(e,t,a){"use strict";var n=a("ef59"),s=a.n(n);s.a},"7b55":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.items,(function(t,n){return a("div",{key:n,staticStyle:{display:"flex","margin-top":"8px"}},[a("el-input",e._b({staticClass:"input-with-select",model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},"el-input",e.$attrs,!1),[a("el-select",{attrs:{slot:"prepend"},on:{change:e.handleProtocolChange},slot:"prepend",model:{value:t.select,callback:function(a){e.$set(t,"select",a)},expression:"item.select"}},e._l(e.remainProtocols,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("div",{staticClass:"input-button",staticStyle:{display:"flex","margin-left":"20px"}},[a("el-button",{staticStyle:{"flex-shrink":"0"},attrs:{type:"danger",icon:"el-icon-minus",size:"mini",disabled:1===e.items.length},on:{click:function(t){return e.handleDelete(n)}}}),e._v(" "),a("el-button",{staticStyle:{"flex-shrink":"0"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.handleAdd(n)}}})],1)],1)})),0)},s=[],i=(a("d25f"),a("28a5"),a("f3e2"),a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),a("6d67"),{props:{value:{type:[Array],default:function(){return[]}},title:{type:String,default:""}},data:function(){return{select:"",items:[{value:"",select:""}],protocols:[{name:"ssh",port:22},{name:"rdp",port:3389},{name:"telnet",port:23},{name:"vnc",port:5901}]}},computed:{values:function(){var e=[];return this.items.map((function(t){e.push("".concat(t.select,"/").concat(t.value))})),e},itemsMap:function(){var e={},t=!0,a=!1,n=void 0;try{for(var s,i=this.items[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var l=s.value;e[l.select]=l}}catch(r){a=!0,n=r}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e},remainProtocols:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var s,i=this.protocols[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var l=s.value;this.itemsMap[l.name]||e.push(l)}}catch(r){a=!0,n=r}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},watch:{values:{handler:function(e){this.$emit("input",e)},immediate:!0,deep:!0}},mounted:function(){var e=this;0!==this.value.length&&(this.items=[],this.value.forEach((function(t){var a=t.split("/");e.items.push({value:a[1],select:a[0]})})))},methods:{onInput:function(e){this.$emit("input","my-input: "+e)},handleDelete:function(e){this.items=this.items.filter((function(t,a){return a!==e}))},handleAdd:function(e){this.items.push({value:"",select:""})},handleProtocolChange:function(e){var t=22;switch(e){case"rdp":t=3389;break;case"telnet":t=23;break;case"vnc":t=5901;break}this.itemsMap[e].value=t}}}),l=i,r=(a("0ae7"),a("2877")),o=Object(r["a"])(l,n,s,!1,null,"4f28c821",null);t["a"]=o.exports},ad49:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericCreateUpdatePage",e._b({},"GenericCreateUpdatePage",e.$data,!1))},s=[],i=(a("7f7f"),a("5e04")),l=a("7b55"),r=a("7541"),o={name:"AssetCreateUpdate",components:{GenericCreateUpdatePage:i["a"]},data:function(){var e=[];return this.$route.query["node"]&&e.push(this.$route.query.node),{initial:{is_active:!0,platform:"Linux",protocols:["ssh/22"],nodes:e},fields:[[this.$t("common.Basic"),["hostname","ip","platform","public_ip","domain"]],[this.$t("assets.Protocols"),["protocols"]],[this.$t("assets.Auth"),["admin_user"]],[this.$t("assets.Node"),["nodes"]],[this.$t("assets.Label"),["labels"]],[this.$t("common.Other"),["is_active","comment"]]],fieldsMeta:{ip:{label:this.$t("assets.ipDomain")},protocols:{component:l["a"]},platform:{el:{multiple:!1,ajax:{url:"/api/v1/assets/platforms/",transformOption:function(e){return{label:"".concat(e.name),value:e.name}}}}},domain:{el:{multiple:!1,clearable:!0,ajax:{url:"/api/v1/assets/domains/"}}},admin_user:{el:{multiple:!1,ajax:{url:"/api/v1/assets/system-users/?type=admin",transformOption:function(e){var t=e.username||"*";return{label:e.name+"("+t+")",value:e.id}}}}},nodes:{rules:[r["c"].RequiredChange],el:{ajax:{url:"/api/v1/assets/nodes/",transformOption:function(e){return{label:"".concat(e.full_value),value:e.id}}},clearable:!0}},labels:{el:{ajax:{url:"/api/v1/assets/labels/",transformOption:function(e){return{label:"".concat(e.name,":").concat(e.value),value:e.id}}}}},is_active:{type:"switch"}},url:"/api/v1/assets/assets/",createSuccessNextRoute:{name:"AssetDetail"},hasDetailInMsg:!1}}},u=o,c=a("2877"),p=Object(c["a"])(u,n,s,!1,null,null,null);t["default"]=p.exports},ef59:function(e,t,a){}}]);