(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b64a9"],{"1d11":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TabPage",{attrs:{"active-menu":e.config.activeMenu,submenu:e.config.submenu},on:{"update:activeMenu":function(t){return e.$set(e.config,"activeMenu",t)},"update:active-menu":function(t){return e.$set(e.config,"activeMenu",t)}}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.Title)+"\n  ")]),e._v(" "),a("keep-alive",[a(e.config.activeMenu,{tag:"component"})],1)],1)},n=[],i=a("cd4a"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("GenericListTable",{attrs:{"table-config":e.tableConfig,"header-actions":e.headerActions}})],1)},c=[],d=(a("d92a"),a("0692")),o=a("e975");function l(){var e={label:d["a"].t("message.Subject"),formatter:o["k"],formatterArgs:{displayKey:"message"}},t={label:d["a"].t("message.Message"),formatter:o["k"]},a={label:d["a"].t("message.date_created"),width:"170px",showOverflowTooltip:!0,formatter:o["e"]},s={label:d["a"].t("message.ReadOrUnread"),width:"80px",align:"center",formatter:o["c"]},n={label:d["a"].t("message.ReadAt"),width:"170px",showOverflowTooltip:!0,formatter:o["e"]},i={hasCreate:!1,hasExport:!1,hasImport:!1};return{headerActions:i,subject:e,message:t,date_created:a,has_read:s,read_at:n}}var u=l,b={name:"AllMessageList",components:{GenericListTable:i["g"]},data:function(){var e=u.bind(this)();return{tableConfig:{url:"/api/v1/notifications/site-message/",columns:["subject","date_created","read_at","has_read"],columnsShow:{default:["subject","date_created","read_at","has_read"],min:["subject","read_at","has_read"]},columnsMeta:{subject:e.subject,date_created:e.date_created,read_at:e.read_at,has_read:e.has_read}},headerActions:e.headerActions}}},f=b,g=a("2877"),m=Object(g["a"])(f,r,c,!1,null,"aa601d34",null),h=m.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("GenericListTable",{attrs:{"table-config":e.tableConfig,"header-actions":e.headerActions}})],1)},v=[],M={name:"ReadMessageList",components:{GenericListTable:i["g"]},data:function(){var e=u.bind(this)();return{tableConfig:{url:"/api/v1/notifications/site-message/?has_read=true",columns:["subject","date_created","read_at"],columnsShow:{default:["subject","date_created","read_at"],min:["subject","read_at"]},columnsMeta:{subject:e.subject,date_created:e.date_created,read_at:e.read_at}},headerActions:e.headerActions}}},p=M,L=Object(g["a"])(p,_,v,!1,null,"3dcbff7b",null),j=L.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("GenericListTable",{attrs:{"table-config":e.tableConfig,"header-actions":e.headerActions}})],1)},A=[],$=(a("6d67"),{name:"UnreadMessageList",components:{GenericListTable:i["g"]},data:function(){var e=this,t=u.bind(this)();return{tableConfig:{url:"/api/v1/notifications/site-message/?has_read=false",columns:["subject","date_created"],columnsShow:{default:["subject","date_created"],min:["subject"]},columnsMeta:{subject:t.subject,date_created:t.date_created}},headerActions:Object.assign(t.headerActions,{extraActions:[{name:"MarkRead",title:this.$t("message.MarkRead"),type:"info",can:function(e){return e.selectedRows.length>0},callback:function(t){var a="/api/v1/notifications/site-message/mark-as-read/",s=t.selectedRows.map((function(e){return e.id}));e.$axios.patch(a,{ids:s}).then((function(t){e.$children[0].$refs.ListTable.reloadTable()})).catch((function(t){e.$message(t.detail)}))}}]})}}}),T=$,k=Object(g["a"])(T,w,A,!1,null,"14b83e3a",null),R=k.exports,x={name:"Index",components:{TabPage:i["m"],AllMessageList:h,ReadMessageList:j,UnreadMessageList:R},data:function(){return{config:{activeMenu:"UnreadMessageList",submenu:[{title:this.$t("route.AllMessages"),name:"AllMessageList"},{title:this.$t("route.ReadMessageList"),name:"ReadMessageList"},{title:this.$t("route.UnreadMessageList"),name:"UnreadMessageList"}]}}},computed:{Title:function(){return this.$t("route.MessageCenter")}},mounted:function(){var e=this.$route.params;switch(e.activeMenu){case"AllMessageList":this.config.activeMenu="AllMessageList";break;case"ReadMessageList":this.config.activeMenu="ReadMessageList";break;case"UnreadMessageList":this.config.activeMenu="UnreadMessageList";break}}},C=x,O=Object(g["a"])(C,s,n,!1,null,"f5da52be",null);t["default"]=O.exports}}]);