(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c334ef0"],{"0179":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TabPage",{attrs:{"active-menu":t.config.activeMenu,submenu:t.config.submenu},on:{"update:activeMenu":function(e){return t.$set(t.config,"activeMenu",e)},"update:active-menu":function(e){return t.$set(t.config,"activeMenu",e)}},scopedSlots:t._u([{key:"badge",fn:function(e){return"AssignedTicketList"===e.tab?n("el-badge",{attrs:{value:t.getBadgeValue(e),size:"mini",type:"primary"}}):t._e()}}],null,!0)},[t._v(" "),n("keep-alive",[n(t.config.activeMenu,{tag:"component"})],1)],1)},r=[],c=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("bd86")),s=n("cd4a"),a=n("2f62"),o=n("59ce"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TicketListTable",{attrs:{url:t.url}})},u=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ListTable",{attrs:{"table-config":t.ticketTableConfig,"header-actions":t.ticketActions}})},f=[],d=n("579c"),b=n("e975"),m=n("cf45"),y=n("0218"),g={name:"TicketListTable",components:{ListTable:d["a"]},props:{url:{type:String,default:"/api/v1/tickets/tickets/"},hasMoreActions:{type:Boolean,default:!1},customMoreActions:{type:Object,default:null}},data:function(){var t=this,e=this.$createElement;return{ticketTableConfig:{url:this.url,columns:[{prop:"serial_num",label:this.$t("common.Number"),sortable:"custom"},{prop:"ts_id",label:this.$t("tickets.TicketNumber"),width:"160px"},{prop:"title",label:this.$t("tickets.title"),formatter:b["g"],sortable:"custom",formatterArgs:{getRoute:function(t){var e=t.row;return"apply_asset"===e.type?"AssetsTicketDetail":"apply_application"===e.type?"AppsTicketDetail":"login_asset_confirm"===e.type||"login_confirm"===e.type?"LoginAssetTicketDetail":"command_confirm"===e.type?"CommandConfirmDetail":"TicketDetail"}}},{prop:"applicant_display",label:this.$t("tickets.user"),sortable:"custom"},{prop:"type_display",label:this.$t("tickets.type"),width:"160px"},{prop:"status",label:this.$t("tickets.status"),align:"center",width:"90px",sortable:"custom",formatter:function(n){return"open"===n.status?e("el-tag",{attrs:{type:"primary",size:"mini"},style:"align-items:center; display: flex; justify-content:center;"},[" ",t.$t("tickets.OpenStatus")]):e("el-tag",{attrs:{type:"danger",size:"mini"},style:"align-items:center; display: flex; justify-content:center;"},[" ",t.$t("tickets.CloseStatus")])}},{prop:"state",label:this.$t("tickets.action"),align:"center",width:"90px",sortable:"custom",formatter:function(n){if("open"===n.status)return e("el-tag",{attrs:{type:"success",size:"mini"},style:"align-items:center; display: flex; justify-content:center;"},[" ",t.$t("tickets.Pending")]);switch(n.state){case"approved":return e("el-tag",{attrs:{type:"primary",size:"mini"},style:"align-items:center; display: flex; justify-content:center;"},[" ",t.$t("tickets.Approved")]);case"rejected":return e("el-tag",{attrs:{type:"danger",size:"mini"},style:"align-items:center; display: flex; justify-content:center;"},[" ",t.$t("tickets.Rejected")]);default:return e("el-tag",{attrs:{type:"info",size:"mini"},style:"align-items:center; display: flex; justify-content:center;"},[" ",t.$t("tickets.Closed")])}}},{prop:"date_created",label:this.$t("tickets.date"),sortable:"custom",formatter:function(t){return Object(m["q"])(t.date_created)},width:"160px"}]},ticketActions:{hasLeftActions:this.hasMoreActions,hasRightActions:!1,hasCreate:!1,hasBulkDelete:!1,searchConfig:{default:{state:{key:"state",label:this.$t("tickets.action"),value:"open",valueLabel:this.$t("tickets.Pending")}},exclude:["state"],options:[{value:"state",label:this.$t("tickets.action"),type:"choice",children:[{default:!0,value:"open",label:this.$t("tickets.Pending")},{value:y["a"],label:this.$t("tickets.Approved")},{value:y["c"],label:this.$t("tickets.Rejected")},{value:y["b"],label:this.$t("tickets.Closed")}]}]},createTitle:this.$t("common.RequestTickets"),hasMoreActions:!1,moreCreates:{dropdown:[{name:"RequestAssetPerm",title:this.$t("tickets.RequestAssetPerm"),callback:function(){return t.$router.push({name:"RequestAssetPermTicketCreateUpdate"})}},{name:"RequestApplicationPerm",title:this.$t("tickets.RequestApplicationPerm"),callback:function(){return t.$router.push({name:"RequestApplicationPermTicketCreateUpdate"})}}]}}}},methods:{}},h=g,k=n("2877"),O=Object(k["a"])(h,p,f,!1,null,"7bcd37ea",null),j=O.exports;function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"AssignedTicketList",components:{TicketListTable:j},computed:T({url:function(){return"/api/v1/tickets/tickets/?assignees__id=".concat(this.currentUser.id)}},Object(a["b"])(["currentUser"]))},_=w,$=Object(k["a"])(_,l,u,!1,null,"4ea05d50",null),P=$.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TicketListTable",{attrs:{url:t.url,"has-more-actions":!0}})},C=[];function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={name:"MyTicketList",components:{TicketListTable:j},data:function(){return{}},computed:D({url:function(){return"/api/v1/tickets/tickets/?applicant=".concat(this.currentUser.id)}},Object(a["b"])(["currentUser"]))},M=x,S=Object(k["a"])(M,A,C,!1,null,"0ea708ba",null),R=S.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GenericListTable",{ref:"GenericListTable",attrs:{"table-config":t.tableConfig,"header-actions":t.headerActions}})},E=[],q=(n("7f7f"),{name:"TicketFlow",components:{GenericListTable:s["g"]},data:function(){var t=this;return{tableConfig:{url:"/api/v1/tickets/flows/",columns:["type_display","created_by","org_name","date_created","date_updated","actions"],columnsShow:{min:["actions"],default:["type_display","created_by","org_name","date_created","date_updated","actions"]},columnsMeta:{org_name:{formatter:function(e,n,i){var r=t.$store.getters.currentOrg;return r.is_root?e.org_name:r.name}},type_display:{formatter:b["g"],formatterArgs:{route:"FlowDetail"}},actions:{prop:"actions",formatterArgs:{hasClone:!1,hasDelete:!1,onClone:function(e){var n=e.row;t.$router.push({name:"TicketFlowUpdate",query:{type:n.type,clone_from:n.id}})},onUpdate:function(e){var n=e.row;t.$router.push({name:"TicketFlowUpdate",params:{id:n.id}})}}}}},headerActions:{hasLeftActions:!1,hasRightActions:!1,hasSearch:!1}}}}),z=q,F=Object(k["a"])(z,U,E,!1,null,null,null),B=F.exports;function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var J={name:"Index",components:{TabPage:s["m"],AssignedTicketList:P,MyTicketList:R,TicketFlow:B},data:function(){var t=this;return{assignedTicketCount:0,config:{activeMenu:"MyTicketList",submenu:[{title:this.$t("tickets.MyTickets"),name:"MyTicketList"},{title:this.$t("tickets.AssignedMe"),name:"AssignedTicketList"},{title:this.$t("tickets.FlowSetUp"),icon:"fa-gear",name:"TicketFlow",hidden:function(){return!t.$store.getters.currentUserIsSuperAdmin}}]}}},computed:I({},Object(a["b"])(["currentUser"])),mounted:function(){this.getTicketOpenCount()},methods:{getTicketOpenCount:function(){var t=this;Object(o["a"])(this.currentUser.id).then((function(e){t.assignedTicketCount=e.count}))},getBadgeValue:function(t){return this.assignedTicketCount}}},N=J,V=(n("b9bf"),Object(k["a"])(N,i,r,!1,null,"546486e5",null));e["default"]=V.exports},"0218":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return d}));var i,r,c=n("bd86"),s=n("0692"),a="notified",o="approved",l="rejected",u="closed",p="init",f=(i={},Object(c["a"])(i,a,{type:"success",title:s["a"].t("tickets.Pending")}),Object(c["a"])(i,o,{type:"primary",title:s["a"].t("tickets.Approved")}),Object(c["a"])(i,p,{type:"primary",title:s["a"].t("tickets.Initd")}),Object(c["a"])(i,l,{type:"danger",title:s["a"].t("tickets.Rejected")}),Object(c["a"])(i,u,{type:"info",title:s["a"].t("tickets.Closed")}),i),d=(r={},Object(c["a"])(r,a,{type:"success",title:s["a"].t("tickets.Pending")}),Object(c["a"])(r,o,{type:"primary",title:s["a"].t("tickets.Approved")}),Object(c["a"])(r,l,{type:"danger",title:s["a"].t("tickets.Rejected")}),Object(c["a"])(r,u,{type:"warning",title:s["a"].t("tickets.StateClosed")}),r)},b9bf:function(t,e,n){"use strict";var i=n("ca41"),r=n.n(i);r.a},ca41:function(t,e,n){}}]);