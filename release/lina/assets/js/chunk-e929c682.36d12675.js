(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e929c682"],{"19a5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TabPage",e._g({attrs:{"active-menu":e.config.activeMenu,submenu:e.config.submenu},on:{"update:activeMenu":function(t){return e.$set(e.config,"activeMenu",t)},"update:active-menu":function(t){return e.$set(e.config,"activeMenu",t)}}},e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.Title)+"\n  ")]),e._v(" "),a("keep-alive",[a(e.config.activeMenu,{tag:"component"})],1)],1)},r=[],o=a("cd4a"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ListTable",{ref:"ListTable",attrs:{"table-config":e.replayTableConfig,"header-actions":e.replayActions}})},i=[],c=(a("7f7f"),a("579c")),u=a("d952"),l={name:"ReplayStorage",components:{ListTable:c["a"]},data:function(){var e=this,t=this;return{replayActions:{hasExport:!1,hasImport:!1,hasRefresh:!0,hasMoreActions:!1,moreCreates:{callback:function(t){e.$router.push({name:"CreateReplayStorage",query:{type:t.name.toLowerCase()}})},dropdown:[{name:"S3",title:"S3"},{name:"Ceph",title:"Ceph"},{name:"swift",title:"Swift"},{name:"OSS",title:"OSS"},{name:"OBS",title:"OBS"},{name:"Azure",title:"Azure"},{name:"obs",title:"OBS"}]}},replayTableConfig:{url:"/api/v1/terminal/replay-storages/",columns:["name","type","comment","is_default","actions"],columnsMeta:{name:{formatter:function(e){return e.name}},type:{formatter:function(e){return e.type}},is_default:{formatterArgs:{showFalse:!1},align:"center",width:"100px"},comment:{sortable:"custom"},actions:{prop:"id",formatterArgs:{onUpdate:function(e){var t=e.row;e.col;this.$router.push({name:"ReplayStorageUpdate",params:{id:t.id},query:{type:t.type}})},canUpdate:function(e){var t=e.row;return"default"!==t.name&&"null"!==t.name},canDelete:function(e){var t=e.row;return"default"!==t.name&&"null"!==t.name},hasClone:!1,extraActions:[{name:"test",title:this.$t("sessions.test"),type:"primary",callback:function(e){var t=this,a=e.row;e.col,e.cellValue,e.reload;Object(u["d"])(a.id).then((function(e){e["is_valid"]?t.$message.success(e.msg):t.$message.error(e.msg)}))}},{name:"set_to_default",title:this.$t("sessions.SetToDefault"),type:"primary",callback:function(e){var a=this,n=e.row;e.col,e.cellValue,e.reload;Object(u["b"])(n.id).then((function(e){t.$refs.ListTable.reloadTable(),a.$message.success(a.$t("sessions.SetSuccess"))})).catch((function(){a.$message.error(a.$t("sessions.SetFailed"))}))}}]}}}}}},methods:{}},m=l,f=a("2877"),d=Object(f["a"])(m,s,i,!1,null,"1db2f820",null),p=d.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ListTable",{ref:"ListTable",attrs:{"table-config":e.commandTableConfig,"header-actions":e.commandActions}})},h=[],b={name:"CommandStorage",components:{ListTable:c["a"]},props:{object:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this;return{commandActions:{hasExport:!1,hasImport:!1,hasRefresh:!0,hasMoreActions:!1,moreCreates:{callback:function(t){e.$router.push({name:"CreateCommandStorage",query:{type:t.name}})},dropdown:[{name:"es",title:"Elasticsearch"}]}},commandTableConfig:{title:"command",url:"/api/v1/terminal/command-storages/",columns:["name","type","comment","is_default","actions"],columnsMeta:{comment:{sortable:"custom"},name:{formatter:function(e){return e.name}},type:{formatter:function(e){return e.type}},is_default:{formatterArgs:{showFalse:!1},align:"center",width:"100px"},actions:{prop:"id",formatterArgs:{canUpdate:function(e){var t=e.row;return"default"!==t.name&&"null"!==t.name},onUpdate:function(e){var t=e.row;this.$router.push({name:"CommandStorageUpdate",params:{id:t.id}})},canDelete:function(e){var t=e.row;return"default"!==t.name&&"null"!==t.name},hasClone:!1,extraActions:[{name:"test",title:this.$t("sessions.test"),type:"primary",callback:function(e){var t=this,a=e.row;e.col,e.cellValue,e.reload;Object(u["c"])(a.id).then((function(e){e["is_valid"]?t.$message.success(e.msg):t.$message.error(e.msg)}))}},{name:"set_to_default",title:this.$t("sessions.SetToDefault"),type:"primary",callback:function(e){var a=this,n=e.row;e.col,e.cellValue,e.reload;Object(u["a"])(n.id).then((function(e){t.$refs.ListTable.reloadTable(),a.$message.success(a.$t("sessions.SetSuccess"))})).catch((function(){a.$message.error(a.$t("sessions.SetFailed"))}))}}]}}}}}},methods:{createEs:function(){this.$router.push({name:"CreateCommandStorage",query:{type:"es"}})}}},v=b,y=Object(f["a"])(v,g,h,!1,null,"e18f41e2",null),S=y.exports,$={name:"Storage",components:{TabPage:o["m"],ReplayStorage:p,CommandStorage:S},data:function(){return{config:{activeMenu:"ReplayStorage",submenu:[{title:this.$t("sessions.replayStorage"),name:"ReplayStorage"},{title:this.$t("sessions.commandStorage"),name:"CommandStorage"}]}}},computed:{Title:function(){return this.$t("sessions.storage")}},mounted:function(){var e=this.$route.params;switch(e.activeMenu){case"ReplayStorage":this.config.activeMenu="ReplayStorage";break;case"CommandStorage":this.config.activeMenu="CommandStorage";break}}},w=$,C=Object(f["a"])(w,n,r,!1,null,"5e61a521",null);t["default"]=C.exports},d952:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return m}));var n=a("b775");function r(e){return Object(n["a"])({url:"/api/v1/terminal/tasks/kill-session/",method:"post",data:e})}function o(){return Object(n["a"])({url:"/api/v1/terminal/command-storages/",method:"get"})}function s(){return Object(n["a"])({url:"/api/v1/terminal/replay-storages/",method:"get"})}function i(e){return Object(n["a"])({url:"/api/v1/terminal/command-storages/".concat(e,"/test-connective/"),method:"get"})}function c(e){return Object(n["a"])({url:"/api/v1/terminal/replay-storages/".concat(e,"/test-connective/"),method:"get"})}function u(e){return Object(n["a"])({url:e,method:"patch",data:{is_default:!0}})}function l(e){return u("/api/v1/terminal/command-storages/".concat(e,"/"))}function m(e){return u("/api/v1/terminal/replay-storages/".concat(e,"/"))}}}]);