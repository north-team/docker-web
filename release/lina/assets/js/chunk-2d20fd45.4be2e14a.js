(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fd45"],{b4fc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GenericListPage",{attrs:{"table-config":e.tableConfig,"header-actions":e.headerActions,"help-message":e.notice}})},r=[],s=(n("6d67"),n("96cf"),n("3b8d")),o=(n("d92a"),n("cd4a")),c=n("e975"),i=n("2934"),u={components:{GenericListPage:o["f"]},data:function(){return{tableConfig:{url:"/api/v1/assets/domains/",columns:["name","asset_count","application_count","gateway_count","date_created","comment","org_name","actions"],columnsShow:{min:["name","actions"],default:["name","asset_count","application_count","gateway_count","comment","actions"]},columnsMeta:{asset_count:{label:this.$t("assets.Assets")},application_count:{label:this.$t("assets.Applications")},gateway_count:{label:this.$t("assets.Gateway"),formatter:c["g"],formatterArgs:{routeQuery:{activeTab:"GatewayList"}}}}},headerActions:{hasBulkDelete:!1,createRoute:"DomainCreate",extraMoreActions:[{title:this.$t("common.deleteSelected"),name:"deleteSelected",can:function(e){var t=e.selectedRows;return t.length>0},callback:this.bulkDeleteCallback.bind(this)}]},notice:this.$t("assets.DomainHelpMessage")}},methods:{bulkDeleteCallback:function(e){var t=this,n=e.selectedRows,a=e.reloadTable,r=this.$t("common.deleteWarningMsg");this.currentOrgIsDefault||(r=this.$t("common.removeWarningMsg"));var o=r+" "+n.length+" "+this.$t("common.rows")+" ?",c=this.$t("common.Info"),i=this.performBulkDelete;this.$alert(o,c,{type:"warning",confirmButtonClass:"el-button--danger",showCancelButton:!0,beforeClose:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r,s,o){var c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("confirm"===r){e.next=2;break}return e.abrupt("return",o());case 2:return s.confirmButtonLoading=!0,e.prev=3,e.next=6,i(n);case 6:o(),a(),c=t.$t("common.bulkDeleteSuccessMsg"),t.currentOrgIsDefault||(c=t.$t("common.bulkRemoveSuccessMsg")),t.$message.success(c),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](3),u=t.$t("common.bulkDeleteErrorMsg"),t.currentOrgIsDefault||(u=t.$t("common.bulkRemoveErrorMsg")),t.$message.error(u+e.t0);case 18:return e.prev=18,s.confirmButtonLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,13,18,21]])})));function r(t,n,a){return e.apply(this,arguments)}return r}()}).catch((function(){}))},performBulkDelete:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.map((function(e){return e.id})),e.next=3,Object(i["a"])(n);case 3:return a=e.sent,r="".concat(this.tableConfig.url,"?spm=")+a.spm,e.abrupt("return",this.$axios.delete(r));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},l=u,m=n("2877"),f=Object(m["a"])(l,a,r,!1,null,null,null);t["default"]=f.exports}}]);