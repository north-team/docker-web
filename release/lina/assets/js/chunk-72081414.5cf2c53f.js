(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72081414"],{1:function(e,t){},"3cc2":function(e,t,s){},"778b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.systemUserTypeComponent,{tag:"component"})},r=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.systemUserProtocolComponent,{tag:"component",attrs:{title:e.iTitle}})},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url}},"GenericCreateUpdatePage",e.$attrs,!1))},u=[],l=(s("7f7f"),s("d92a"),s("5e04")),m=s("7541"),d=(s("57e7"),s("6762"),s("2fdb"),s("768b")),c=(s("ac6a"),s("f3e2"),s("0692")),p=s("2af9"),_=s("8521");function h(){var e=[],t=[{id:"letters_length",prop:"LettersLength",label:c["a"].t("xpack.ChangeAuthPlan.LettersLength")},{id:"number_length",prop:"NumberLength",label:c["a"].t("xpack.ChangeAuthPlan.NumberLength")},{id:"punctuation_length",prop:"PunctuationLength",label:c["a"].t("xpack.ChangeAuthPlan.PunctuationLength")}];return t.forEach((function(t,s,a){e.push({id:t.id,prop:t.prop,el:{},attrs:{error:""},type:"input",label:t.label,rules:[m["b"]],helpText:c["a"].t("common.password.PasswordLength"),hidden:function(e){return!e.auto_generate_key||!1===e.auto_generate_key}})})),e}function f(){var e=this,t={on:{input:function(e,t){var s=Object(d["a"])(e,1),a=s[0];"manual"===a&&(t({auto_push:!1}),t({auto_generate_key:!1}))}}},s={el:{disabled:!1},on:{input:function(e,t){var s=Object(d["a"])(e,1),a=s[0];t({home:"/home/".concat(a)})}},rules:[Object.assign({},m["b"])],hidden:function(t){["vnc"].includes(t.protocol)||"manual"===t.login_mode||t.username_same_with_user||"redis"===t.protocol?e.fieldsMeta.username.rules[0].required=!1:e.fieldsMeta.username.rules[0].required=!0,t.username_same_with_user?(e.fieldsMeta.username.el.disabled=!0,t.username=""):e.fieldsMeta.username.el.disabled=!1}},a={component:p["m"],hidden:function(e){return"auto"!==e.login_mode||!0===e.auto_generate_key}},r={type:"switch",label:this.$t("assets.DynamicUsername"),helpText:this.$t("assets.UsernameHelpMessage"),el:{disabled:!1},hidden:function(t){var s=e.$route.params,a=s.id?"update":"create";"update"===a&&(e.fieldsMeta.username_same_with_user.el.disabled=!0)}},o={type:"switch",label:this.$t("assets.AutoGenerateKey"),hidden:function(t){return"{}"!==JSON.stringify(e.$route.params)||("k8s"===t.protocol||("admin"===t.type?(t.auto_generate_key=!1,!0):void("manual"===t.login_mode?e.fieldsMeta.auto_generate_key.el.disabled=!0:e.fieldsMeta.auto_generate_key.el.disabled=!1)))},el:{disabled:!1}},n={rules:[m["b"]],el:{style:"width:100%",disabled:!0}},i={label:this.$t("assets.CmdFilter"),component:p["k"],el:{multiple:!0,value:[],ajax:{url:"/api/v1/assets/cmd-filters/"}}},u={type:"switch",el:{disabled:!1},hidden:function(t){"manual"===t.login_mode||"admin"===t.type||t.ad_domain&&""!==t.ad_domain?e.fieldsMeta.auto_push.el.disabled=!0:e.fieldsMeta.auto_push.el.disabled=!1},on:{input:function(e,t){var s=Object(d["a"])(e,1),a=s[0];a||t({auto_generate_key:a})}},helpText:this.$t("assets.SetAdDomainNoDisabled")},l={label:this.$t("users.UpdatePassword"),type:"checkbox",hidden:function(t){return!!t.update_password||("manual"===t.login_mode||!e.$route.params.id)}},c={component:_["c"],hidden:function(t){return!("auto"===t.login_mode&&!t.auto_generate_key)||!!e.$route.params.id&&void 0}},f={component:_["c"],hidden:function(e){return"auto"!==e.login_mode||!0===e.auto_generate_key}},g={label:this.$t("assets.LinuxUserAffiliateGroup"),hidden:function(e){return!e.auto_push},helpText:this.$t("assets.GroupsHelpMessage")},b={rules:[m["b"]],el:{type:"textarea",autosize:{minRows:3}},hidden:function(e){return"k8s"!==e.protocol}},y={label:this.$t("assets.AdDomain"),hidden:function(e){return-1===["rdp"].indexOf(e.protocol)},helpText:this.$t("assets.AdDomainHelpText")},$={type:"group",items:h()},w={};return{login_mode:t,username:s,private_key:a,username_same_with_user:r,auto_generate_key:o,protocol:n,cmd_filters:i,auto_push:u,update_password:l,password:c,passphrase:f,system_groups:g,type:w,token:b,ad_domain:y,password_rules:$}}var g=f,b={name:"CommonUserSSH",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=g.bind(this)();return{initial:{login_mode:"auto",protocol:this.$route.query.protocol,username_same_with_user:!1,auto_generate_key:!1,auto_push:!1,sftp_root:"tmp",sudo:"/bin/whoami",shell:"/bin/bash",password_rules:{letters_length:10,number_length:10,punctuation_length:10}},fields:[[this.$t("common.Basic"),["name","protocol","username","username_same_with_user"]],[this.$t("common.Auth"),["login_mode","auto_generate_key","password","private_key","passphrase","password_rules"]],[this.$t("assets.AutoPush"),["auto_push","sudo","shell","home","system_groups"]],[this.$t("common.Command filter"),["cmd_filters"]],[this.$t("assets.UserSwitch"),["su_enabled","su_from"]],[this.$t("common.Other"),["priority","sftp_root","comment"]]],fieldsMeta:{login_mode:e.login_mode,username:e.username,private_key:e.private_key,passphrase:e.passphrase,username_same_with_user:e.username_same_with_user,auto_generate_key:e.auto_generate_key,protocol:e.protocol,cmd_filters:e.cmd_filters,auto_push:e.auto_push,token:e.token,ad_domain:e.ad_domain,password_rules:e.password_rules,sftp_root:{rules:[m["b"]],helpText:this.$t("assets.SFTPHelpMessage")},sudo:{rules:[m["b"]],helpText:this.$t("assets.SudoHelpMessage"),hidden:function(e){return"ssh"!==e.protocol||!e.auto_push}},password:e.password,shell:{hidden:function(e){return"ssh"!==e.protocol||!e.auto_push},rules:[m["b"]]},home:{label:this.$t("assets.Home"),hidden:function(e){return"ssh"!==e.protocol||!e.auto_push},helpText:this.$t("assets.HomeHelpMessage")},system_groups:e.system_groups,su_enabled:{type:"switch",hidden:function(e){return"ssh"!==e.protocol}},su_from:{hidden:function(e){return!e.su_enabled},el:{multiple:!1,clearable:!0,ajax:{url:"/api/v1/assets/system-users/su-from/",transformOption:function(e){return{label:e.name+"("+e.username+")",value:e.id}}}}}},url:"/api/v1/assets/system-users/"}},method:{}},y=b,$=s("2877"),w=Object($["a"])(y,i,u,!1,null,"3cdd1b1e",null),v=w.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url}},"GenericCreateUpdatePage",e.$attrs,!1))},C=[],k={name:"CommonUserRDP",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=g.bind(this)();return{initial:{login_mode:"auto",protocol:this.$route.query.protocol,username_same_with_user:!1,auto_generate_key:!1,password_rules:{letters_length:10,number_length:10,punctuation_length:10},auto_push:!1,sudo:"/bin/whoami",shell:"/bin/bash"},fields:[[this.$t("common.Basic"),["name","protocol","username","username_same_with_user"]],[this.$t("common.Auth"),["login_mode","auto_generate_key","password","ad_domain","password_rules"]],[this.$t("assets.AutoPush"),["auto_push","system_groups"]],[this.$t("common.Other"),["priority","comment"]]],fieldsMeta:{login_mode:e.login_mode,auto_generate_key:e.auto_generate_key,username:e.username,username_same_with_user:e.username_same_with_user,auto_push:e.auto_push,protocol:e.protocol,password_rules:e.password_rules,ad_domain:{label:this.$t("assets.AdDomain"),helpText:this.$t("assets.AdDomainHelpText")},password:e.password,system_groups:e.system_groups},url:"/api/v1/assets/system-users/"}},method:{}},P=k,x=Object($["a"])(P,U,C,!1,null,"145d994c",null),M=x.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url}},"GenericCreateUpdatePage",e.$attrs,!1))},G=[],A={name:"CommonUserVNC",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=g.bind(this)();return{initial:{login_mode:"auto",protocol:this.$route.query.protocol,username_same_with_user:!1},fields:[[this.$t("common.Basic"),["name","protocol","username","username_same_with_user"]],[this.$t("common.Auth"),["login_mode","password"]],[this.$t("common.Other"),["priority","comment"]]],fieldsMeta:{login_mode:e.login_mode,username:e.username,username_same_with_user:e.username_same_with_user,protocol:e.protocol,password:e.password},url:"/api/v1/assets/system-users/"}}},T=A,S=Object($["a"])(T,O,G,!1,null,"0417b99c",null),j=S.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url}},"GenericCreateUpdatePage",e.$attrs,!1))},H=[],D={name:"CommonUserDatabase",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=g.bind(this)();return{initial:{login_mode:"auto",protocol:this.$route.query.protocol,auto_generate_key:!1,auto_push:!1},fields:[[this.$t("common.Basic"),["name","username","priority","protocol"]],[this.$t("common.Auth"),["login_mode","password"]],[this.$t("common.Command filter"),["cmd_filters"]],[this.$t("common.Other"),["comment"]]],fieldsMeta:{login_mode:e.login_mode,username:e.username,private_key:e.private_key,protocol:e.protocol,password:e.password,cmd_filters:e.cmd_filters},url:"/api/v1/assets/system-users/"}}},E=D,L=Object($["a"])(E,q,H,!1,null,"88a96d68",null),B=L.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url}},"GenericCreateUpdatePage",e.$attrs,!1))},F=[],R={name:"CommonUserSSH",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=this,t=g.bind(this)();return{initial:{protocol:this.$route.query.protocol},fields:[[this.$t("common.Basic"),["name","protocol"]],[this.$t("common.Auth"),["token"]],[this.$t("common.Command filter"),["cmd_filters"]],[this.$t("common.Other"),["priority","comment"]]],fieldsMeta:{cmd_filters:t.cmd_filters,token:{rules:[Object.assign({},m["b"])],el:{type:"textarea",autosize:{minRows:3}},hidden:function(t){var s=e.$route.params,a=s.id?"update":"create";"update"===a&&(e.fieldsMeta.token.rules[0].required=!1)}},protocol:{rules:[m["b"]],el:{disabled:!0,style:"width:100%"}}},url:"/api/v1/assets/system-users/"}}},V=R,J=Object($["a"])(V,N,F,!1,null,"7e59887a",null),z=J.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url}},"GenericCreateUpdatePage",e.$attrs,!1))},Q=[],I={name:"CommonUserTelnet",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=g.bind(this)();return{initial:{login_mode:"auto",protocol:this.$route.query.protocol,username_same_with_user:!1},fields:[[this.$t("common.Basic"),["name","protocol","username","username_same_with_user"]],[this.$t("common.Auth"),["login_mode","password"]],[this.$t("common.Command filter"),["cmd_filters"]],[this.$t("common.Other"),["priority","comment"]]],fieldsMeta:{login_mode:e.login_mode,username:e.username,username_same_with_user:e.username_same_with_user,protocol:e.protocol,password:e.password,cmd_filters:e.cmd_filters},url:"/api/v1/assets/system-users/"}}},W=I,X=Object($["a"])(W,K,Q,!1,null,"2c31aa7c",null),Y=X.exports,Z={name:"SystemUserCreateUpdate",components:{SSH:v,RDP:M,VNC:j,Database:B},data:function(){return{}},method:{},computed:{iTitle:function(){var e=this.$route.params,t="";return t=e.id?this.$t("route.SystemUserUpdate"):this.$t("route.SystemUserCreate"),t+"-"+this.$t("assets.CommonUser")},systemUserProtocolComponent:function(){var e=this.$route.query,t=e.protocol;switch(t){case"ssh":return v;case"rdp":return M;case"vnc":return j;case"telnet":return Y;case"mysql":case"oracle":case"postgresql":case"mariadb":case"sqlserver":case"redis":return B;case"k8s":return z;default:return v}}}},ee=Z,te=Object($["a"])(ee,o,n,!1,null,"108abe0c",null),se=te.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.systemUserProtocolComponent,{tag:"component",attrs:{title:e.iTitle}})},re=[],oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({attrs:{fields:e.fields,initial:e.initial,"fields-meta":e.fieldsMeta,url:e.url,"clean-form-value":e.cleanFormValue}},"GenericCreateUpdatePage",e.$attrs,!1))},ne=[],ie={name:"AdminUserSSH",components:{GenericCreateUpdatePage:l["a"]},data:function(){var e=this,t=g.bind(this)();return{url:"/api/v1/assets/admin-users/",initial:{},fields:[[this.$t("common.Basic"),["name","protocol","username","type"]],[this.$t("common.Auth"),["password","private_key","passphrase"]],[this.$t("common.Command filter"),["cmd_filters"]],[this.$t("common.Other"),["priority","sftp_root","comment"]]],fieldsMeta:{name:{el:{placeholder:this.$t("common.Name")}},type:{hidden:function(){return!0}},username:{el:{placeholder:this.$t("common.Username")},rules:[m["b"]]},protocol:{el:{style:"width:100%",disabled:!0}},password:{helpText:this.$t("common.passwordOrPassphrase"),component:_["c"],hidden:function(t){if(!e.$route.params.id)return!1}},passphrase:{component:_["c"]},private_key:{component:p["m"]},sftp_root:{rules:[m["b"]],helpText:this.$t("assets.SFTPHelpMessage")},cmd_filters:t.cmd_filters},cleanFormValue:function(e){return e["type"]="admin",e}}},method:{}},ue=ie,le=Object($["a"])(ue,oe,ne,!1,null,"e4e37022",null),me=le.exports,de={name:"AdminUserCreate",data:function(){return{}},computed:{iTitle:function(){var e=this.$route.params,t="";return t=e.id?this.$t("route.SystemUserUpdate"):this.$t("route.SystemUserCreate"),t+"-"+this.$t("assets.AdminUser")},systemUserProtocolComponent:function(){return me}}},ce=de,pe=Object($["a"])(ce,ae,re,!1,null,"7ba2f788",null),_e=pe.exports,he={name:"SystemUserCreateUpdate",components:{CommonUser:se,AdminUser:_e},computed:{systemUserTypeComponent:function(){var e=this.$route.query,t=e.type||"common";return"admin"===t?_e:se}}},fe=he,ge=Object($["a"])(fe,a,r,!1,null,"fa3302fa",null);t["default"]=ge.exports},"82a0":function(e,t,s){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.open("/#/ops/celery/task/".concat(e,"/log/?type=").concat(t),"","width=900,height=600")}s.d(t,"a",(function(){return a}))},c0eb:function(e,t,s){"use strict";var a=s("1157"),r=s.n(a);window.$=r.a,window.jQuery=r.a,t["a"]=r.a}}]);